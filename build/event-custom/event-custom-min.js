YUI.add("event-custom-base",function(b){b.Env.evt={handles:{},plugins:{}};var l=0,c=1,k={objs:{},before:function(y,A,B,C){var z=y,x;if(C){x=[y,C].concat(b.Array(arguments,4,true));z=b.rbind.apply(b,x);}return this._inject(l,z,A,B);},after:function(y,A,B,C){var z=y,x;if(C){x=[y,C].concat(b.Array(arguments,4,true));z=b.rbind.apply(b,x);}return this._inject(c,z,A,B);},_inject:function(x,z,A,C){var D=b.stamp(A),B,y;if(!this.objs[D]){this.objs[D]={};}B=this.objs[D];if(!B[C]){B[C]=new b.Do.Method(A,C);A[C]=function(){return B[C].exec.apply(B[C],arguments);};}y=D+b.stamp(z)+C;B[C].register(y,z,x);return new b.EventHandle(B[C],y);},detach:function(x){if(x.detach){x.detach();}},_unload:function(y,x){}};b.Do=k;k.Method=function(x,y){this.obj=x;this.methodName=y;this.method=x[y];this.before={};this.after={};};k.Method.prototype.register=function(y,z,x){if(x){this.after[y]=z;}else{this.before[y]=z;}};k.Method.prototype._delete=function(x){delete this.before[x];delete this.after[x];};k.Method.prototype.exec=function(){var z=b.Array(arguments,0,true),A,y,D,B=this.before,x=this.after,C=false;for(A in B){if(B.hasOwnProperty(A)){y=B[A].apply(this.obj,z);if(y){switch(y.constructor){case k.Halt:return y.retVal;case k.AlterArgs:z=y.newArgs;break;case k.Prevent:C=true;break;default:}}}}if(!C){y=this.method.apply(this.obj,z);}k.originalRetVal=y;k.currentRetVal=y;for(A in x){if(x.hasOwnProperty(A)){D=x[A].apply(this.obj,z);if(D&&D.constructor==k.Halt){return D.retVal;}else{if(D&&D.constructor==k.AlterReturn){y=D.newRetVal;k.currentRetVal=y;}}}}return y;};k.AlterArgs=function(y,x){this.msg=y;this.newArgs=x;};k.AlterReturn=function(y,x){this.msg=y;this.newRetVal=x;};k.Halt=function(y,x){this.msg=y;this.retVal=x;};k.Prevent=function(x){this.msg=x;};k.Error=k.Halt;var t="after",a=["broadcast","monitored","bubbles","context","contextFn","currentTarget","defaultFn","defaultTargetOnly","details","emitFacade","fireOnce","async","host","preventable","preventedFn","queuable","silent","stoppedFn","target","type"],j=9,d="yui:log",s=b.Array,e=b.Lang,o;function f(x,y){this.evt=x;this.sub=y;}f.prototype={batch:function(x,y){x.call(y||this,this);if(e.isArray(this.evt)){b.Array.each(this.evt,function(z){z.batch.call(y||z,x);});}},detach:function(){var x=this.evt,z=0,y;if(x){if(e.isArray(x)){for(y=0;y<x.length;y++){z+=x[y].detach();}}else{x._delete(this.sub);z=1;}}return z;},monitor:function(x){return this.evt.monitor.apply(this.evt,arguments);}};b.EventHandle=f;function m(y,z){var x=this;z=z||{};x.id=b.stamp(x);x.type=y;x.context=b;x.logSystem=(y==d);x.silent=x.logSystem;x.subscribers={};x.afters={};x.preventable=true;x.bubbles=true;x.signature=j;x.subCount=0;x.afterCount=0;x.applyConfig(z,true);}o={hasSubs:function(x){var A=this.subCount,y=this.afterCount,z=this.sibling;if(z){A+=z.subCount;y+=z.afterCount;}if(x){return(x=="after")?y:A;}return(A+y);},monitor:function(A){var x=this,z=x.id+"|"+x.type+"_"+A,y=s(arguments,0,true);x.monitored=true;y[0]=z;return x.host.on.apply(x.host,y);},getSubs:function(){var z=b.merge(this.subscribers),x=b.merge(this.afters),y=this.sibling;if(y){b.mix(z,y.subscribers);b.mix(x,y.afters);}return[z,x];},applyConfig:function(y,x){if(y){b.mix(this,y,x,a);}},_on:function(C,A,z,x){var y=this,B=new b.Subscriber(C,A,z,x);if(y.fireOnce&&y.fired){if(y.async){setTimeout(b.bind(y._notify,y,B,y.firedWith),0);}else{y._notify(B,y.firedWith);}}if(x==t){y.afters[B.id]=B;y.afterCount++;}else{y.subscribers[B.id]=B;y.subCount++;}return new b.EventHandle(y,B);},on:function(z,y){var x=(arguments.length>2)?s(arguments,2,true):null;if(this.host){this.host._monitor("attach",this.type,{args:arguments});}return this._on(z,y,x,true);},after:function(z,y){var x=(arguments.length>2)?s(arguments,2,true):null;return this._on(z,y,x,t);},detach:function(B,z){if(B&&B.detach){return B.detach();}var y,A,C=0,x=b.merge(this.subscribers,this.afters);for(y in x){if(x.hasOwnProperty(y)){A=x[y];if(A&&(!B||B===A.fn)){this._delete(A);C++;}}}return C;},_notify:function(B,A,x){var y=this,z;z=B.notify(A,y);if(false===z||y.stopped>1){return false;}return true;},fire:function(){var x=this,z=(x.emitFacade)?"fireComplex":"fireSimple",y=s(arguments,0,true);if(x.fireOnce){x.fired=true;x.firedWith=y;x.fire=x._fireImmediate;}return x[z](y);},_fireImmediate:function(){return true;},fireSimple:function(y){var x=this,z;x.stopped=0;x.prevented=0;if(x.hasSubs()){z=x.getSubs();x._procSubs(z[0],y);x._procSubs(z[1],y);}x.broadcast&&!x.stopped&&x._broadcast(y);return x.stopped?false:true;},fireComplex:function(x){x[0]=x[0]||{};return this.fireSimple(x);},_procSubs:function(A,y,x){var B,z;for(z in A){if(A.hasOwnProperty(z)){B=A[z];if(B&&B.fn){if(false===this._notify(B,y,x)){this.stopped=2;}if(this.stopped==2){return false;}}}}return true;},_broadcast:function(y){var x=y.slice();x.unshift(this.type);if(this.host!==b){b.fire.apply(b,x);}if(this.broadcast==2){b.Global.fire.apply(b.Global,x);}},detachAll:function(){return this.detach();},_delete:function(y){var x=this;if(y){if(x.subscribers[y.id]){delete x.subscribers[y.id];x.subCount--;}if(x.afters[y.id]){delete x.afters[y.id];x.afterCount--;}}if(x.host){x.host._monitor("detach",x.type,{ce:x,sub:y});}if(y){y.deleted=true;}}};o.unsubscribe=o.detach;o.unsubscribeAll=o.detachAll;m.prototype=o;b.CustomEvent=m;function v(A,z,y){var x=this;x.fn=A;x.context=z;x.id=b.stamp(x);x.args=y;}v.prototype={_notify:function(C,z,A){if(this.deleted&&!this.postponed){delete this.postponed;return null;}var x=this.args,B=this.fn,y;switch(A.signature){case 0:y=B.call(C,A.type,z,C);break;case 1:y=B.call(C,z[0]||null,C);break;default:if(x||z){z=z||[];x=(x)?z.concat(x):z;y=B.apply(C,x);}else{y=B.call(C);}}if(this.once){A._delete(this);}return y;},notify:function(y,A){var B=this.context,x=true;if(!B){B=(A.contextFn)?A.contextFn():A.context;}if(b.config.throwFail){x=this._notify(B,y,A);}else{try{x=this._notify(B,y,A);}catch(z){b.error(this+" failed: "+z.message,z);}}return x;},contains:function(y,x){if(x){return((this.fn==y)&&this.context==x);
}else{return(this.fn==y);}}};b.Subscriber=v;var h=b.Lang,w=":",u="|",g="~AFTER~",i=b.Array,r=b.cached(function(x){return x.replace(/(.*)(:)(.*)/,"*$2$3");}),n=b.cached(function(x,y){if(!y||!h.isString(x)||x.indexOf(w)>-1){return x;}return y+w+x;}),p=b.cached(function(z,B){var y=z,A,C,x;if(!h.isString(y)){return y;}x=y.indexOf(g);if(x>-1){C=true;y=y.substr(g.length);}x=y.indexOf(u);if(x>-1){A=y.substr(0,(x));y=y.substr(x+1);if(y=="*"){y=null;}}return[A,(B)?n(y,B):y,C,y];}),q=function(x){var y=(h.isObject(x))?x:{};this._yuievt=this._yuievt||{id:b.guid(),events:{},targets:{},config:y,chain:("chain" in y)?y.chain:b.config.chain,bubbling:false,defaults:{context:y.context||this,host:this,emitFacade:y.emitFacade,fireOnce:y.fireOnce,queuable:y.queuable,monitored:y.monitored,broadcast:y.broadcast,defaultTargetOnly:y.defaultTargetOnly,bubbles:("bubbles" in y)?y.bubbles:true}};};q.prototype={once:function(){var x=this.on.apply(this,arguments);x.batch(function(y){if(y.sub){y.sub.once=true;}});return x;},onceAfter:function(){var x=this.after.apply(this,arguments);x.batch(function(y){if(y.sub){y.sub.once=true;}});return x;},parseType:function(x,y){return p(x,y||this._yuievt.config.prefix);},on:function(B,G,z){var J=p(B,this._yuievt.config.prefix),L,M,y,P,I,H,N,D=b.Env.evt.handles,A,x,E,O=b.Node,K,F,C;this._monitor("attach",J[1],{args:arguments,category:J[0],after:J[2]});if(h.isObject(B)){if(h.isFunction(B)){return b.Do.before.apply(b.Do,arguments);}L=G;M=z;y=i(arguments,0,true);P=[];if(h.isArray(B)){C=true;}A=B._after;delete B._after;b.each(B,function(S,R){if(h.isObject(S)){L=S.fn||((h.isFunction(S))?S:L);M=S.context||M;}var Q=(A)?g:"";y[0]=Q+((C)?S:R);y[1]=L;y[2]=M;P.push(this.on.apply(this,y));},this);return(this._yuievt.chain)?this:new b.EventHandle(P);}H=J[0];A=J[2];E=J[3];if(O&&b.instanceOf(this,O)&&(E in O.DOM_EVENTS)){y=i(arguments,0,true);y.splice(2,0,O.getDOMNode(this));return b.on.apply(b,y);}B=J[1];if(b.instanceOf(this,YUI)){x=b.Env.evt.plugins[B];y=i(arguments,0,true);y[0]=E;if(O){K=y[2];if(b.instanceOf(K,b.NodeList)){K=b.NodeList.getDOMNodes(K);}else{if(b.instanceOf(K,O)){K=O.getDOMNode(K);}}F=(E in O.DOM_EVENTS);if(F){y[2]=K;}}if(x){N=x.on.apply(b,y);}else{if((!B)||F){N=b.Event._attach(y);}}}if(!N){I=this._yuievt.events[B]||this.publish(B);N=I._on(G,z,(arguments.length>3)?i(arguments,3,true):null,(A)?"after":true);}if(H){D[H]=D[H]||{};D[H][B]=D[H][B]||[];D[H][B].push(N);}return(this._yuievt.chain)?this:N;},subscribe:function(){return this.on.apply(this,arguments);},detach:function(G,I,x){var M=this._yuievt.events,B,D=b.Node,K=D&&(b.instanceOf(this,D));if(!G&&(this!==b)){for(B in M){if(M.hasOwnProperty(B)){M[B].detach(I,x);}}if(K){b.Event.purgeElement(D.getDOMNode(this));}return this;}var A=p(G,this._yuievt.config.prefix),F=h.isArray(A)?A[0]:null,N=(A)?A[3]:null,C,J=b.Env.evt.handles,L,H,E,z,y=function(S,Q,R){var P=S[Q],T,O;if(P){for(O=P.length-1;O>=0;--O){T=P[O].evt;if(T.host===R||T.el===R){P[O].detach();}}}};if(F){H=J[F];G=A[1];L=(K)?b.Node.getDOMNode(this):this;if(H){if(G){y(H,G,L);}else{for(B in H){if(H.hasOwnProperty(B)){y(H,B,L);}}}return this;}}else{if(h.isObject(G)&&G.detach){G.detach();return this;}else{if(K&&((!N)||(N in D.DOM_EVENTS))){E=i(arguments,0,true);E[2]=D.getDOMNode(this);b.detach.apply(b,E);return this;}}}C=b.Env.evt.plugins[N];if(b.instanceOf(this,YUI)){E=i(arguments,0,true);if(C&&C.detach){C.detach.apply(b,E);return this;}else{if(!G||(!C&&D&&(G in D.DOM_EVENTS))){E[0]=G;b.Event.detach.apply(b.Event,E);return this;}}}z=M[A[1]];if(z){z.detach(I,x);}return this;},unsubscribe:function(){return this.detach.apply(this,arguments);},detachAll:function(x){return this.detach(x);},unsubscribeAll:function(){return this.detachAll.apply(this,arguments);},publish:function(z,A){var y,E,x,D,C=this._yuievt,B=C.config.prefix;z=(B)?n(z,B):z;this._monitor("publish",z,{args:arguments});if(h.isObject(z)){x={};b.each(z,function(G,F){x[F]=this.publish(F,G||A);},this);return x;}y=C.events;E=y[z];if(E){if(A){E.applyConfig(A,true);}}else{D=C.defaults;E=new b.CustomEvent(z,(A)?b.merge(D,A):D);y[z]=E;}return y[z];},_monitor:function(A,x,B){var y,z=this.getEvent(x);if((this._yuievt.config.monitored&&(!z||z.monitored))||(z&&z.monitored)){y=x+"_"+A;B.monitored=A;this.fire.call(this,y,B);}},fire:function(A){var E=h.isString(A),z=(E)?A:(A&&A.type),D,y,C=this._yuievt.config.prefix,B,x=(E)?i(arguments,1,true):arguments;z=(C)?n(z,C):z;this._monitor("fire",z,{args:x});D=this.getEvent(z,true);B=this.getSibling(z,D);if(B&&!D){D=this.publish(z);}if(!D){if(this._yuievt.hasTargets){return this.bubble({type:z},x,this);}y=true;}else{D.sibling=B;y=D.fire.apply(D,x);}return(this._yuievt.chain)?this:y;},getSibling:function(x,z){var y;if(x.indexOf(w)>-1){x=r(x);y=this.getEvent(x,true);if(y){y.applyConfig(z);y.bubbles=false;y.broadcast=0;}}return y;},getEvent:function(y,x){var A,z;if(!x){A=this._yuievt.config.prefix;y=(A)?n(y,A):y;}z=this._yuievt.events;return z[y]||null;},after:function(z,y){var x=i(arguments,0,true);switch(h.type(z)){case"function":return b.Do.after.apply(b.Do,arguments);case"array":case"object":x[0]._after=true;break;default:x[0]=g+z;}return this.on.apply(this,x);},before:function(){return this.on.apply(this,arguments);}};b.EventTarget=q;b.mix(b,q.prototype);q.call(b,{bubbles:false});YUI.Env.globalEvents=YUI.Env.globalEvents||new q();b.Global=YUI.Env.globalEvents;},"@VERSION@",{requires:["oop"]});YUI.add("event-custom-complex",function(g){var d,f={},c=g.CustomEvent.prototype,e=g.EventTarget.prototype,a=g.Lang.isObject,b=f.hasOwnProperty;g.EventFacade=function(j,i){var h=this;j=j||f;h._event=j;h.details=j.details;h.type=j.type;h._type=j.type;h.target=j.target;h.currentTarget=i;h.relatedTarget=j.relatedTarget;};g.extend(g.EventFacade,Object,{stopPropagation:function(){this._event.stopPropagation();this.stopped=1;},stopImmediatePropagation:function(){this._event.stopImmediatePropagation();this.stopped=2;},preventDefault:function(){this._event.preventDefault();this.prevented=1;},halt:function(h){this._event.halt(h);
this.prevented=1;this.stopped=(h)?2:1;}});c.fireComplex=function(r){var s,m,h,o,j,p,k,i,u=this,t=u.host||u,n,l;if(u.stack){if(u.queuable&&u.type!=u.stack.next.type){u.stack.queue.push([u,r]);return true;}}s=u.stack||{id:u.id,next:u,silent:u.silent,stopped:0,prevented:0,bubbling:null,type:u.type,afterQueue:new g.Queue(),defaultTargetOnly:u.defaultTargetOnly,queue:[]};k=u.getSubs();u.stopped=(u.type!==s.type)?0:s.stopped;u.prevented=(u.type!==s.type)?0:s.prevented;u.target=u.target||t;u.currentTarget=t;u.details=r.slice();u._facade=null;m=u._getFacade(r);if(a(r[0])){r[0]=m;}else{r.unshift(m);}if(k[0]){u._procSubs(k[0],r,m);}if(u.bubbles&&t.bubble&&!u.stopped){l=s.bubbling;s.bubbling=u.type;if(s.type!=u.type){s.stopped=0;s.prevented=0;}p=t.bubble(u,r,null,s);u.stopped=Math.max(u.stopped,s.stopped);u.prevented=Math.max(u.prevented,s.prevented);s.bubbling=l;}if(u.stopped&&u.stoppedFn){u.stoppedFn.apply(t,r);}if(u.prevented){if(u.preventedFn){u.preventedFn.apply(t,r);}}else{if(u.defaultFn&&((!u.defaultTargetOnly&&!s.defaultTargetOnly)||t===m.target)){u.defaultFn.apply(t,r);}}u.broadcast&&!u.stopped&&u._broadcast(r);if(k[1]&&!u.prevented&&u.stopped<2){if(s.id===u.id||u.type!=t._yuievt.bubbling){u._procSubs(k[1],r,m);while((n=s.afterQueue.last())){n();}}else{i=k[1];if(s.execDefaultCnt){i=g.merge(i);g.each(i,function(q){q.postponed=true;});}s.afterQueue.add(function(){u._procSubs(i,r,m);});}}u.target=null;if(s.id===u.id){o=s.queue;while(o.length){h=o.pop();j=h[0];s.next=j;j.fire.apply(j,h[1]);}u.stack=null;}p=!(u.stopped);if(u.type!=t._yuievt.bubbling){s.stopped=0;s.prevented=0;u.stopped=0;u.prevented=0;}return p;};c._getFacade=function(){var j=this,h=j._facade||new g.EventFacade(j,j.currentTarget),l=j.details,m,i;if(l&&a(l[0],true)){m=l[0];for(i in m){if(b.call(m,i)&&!(i in d)){h[i]=m[i];}}m.type&&(h.type=m.type);}h.details=j.details;h.target=j.originalTarget||j.target;h.currentTarget=j.currentTarget;h.stopped=h.prevented=0;return(j._facade=h);};c.stopPropagation=function(){this.stopped=1;if(this.stack){this.stack.stopped=1;}};c.stopImmediatePropagation=function(){this.stopped=2;if(this.stack){this.stack.stopped=2;}};c.preventDefault=function(){if(this.preventable){this.prevented=1;if(this.stack){this.stack.prevented=1;}}};c.halt=function(h){if(h){this.stopImmediatePropagation();}else{this.stopPropagation();}this.preventDefault();};e.addTarget=function(h){this._yuievt.targets[g.stamp(h)]=h;this._yuievt.hasTargets=true;};e.getTargets=function(){return g.Object.values(this._yuievt.targets);};e.removeTarget=function(h){delete this._yuievt.targets[g.stamp(h)];};e.bubble=function(v,r,p,u){var n=this._yuievt.targets,q=true,w,s=v&&v.type,j,m,o,k,h=p||(v&&v.target)||this,l;if(!v||(!v.stopped&&n)){for(m in n){if(n.hasOwnProperty(m)){w=n[m];j=w.getEvent(s,true);k=w.getSibling(s,j);if(k&&!j){j=w.publish(s);}l=w._yuievt.bubbling;w._yuievt.bubbling=s;if(!j){if(w._yuievt.hasTargets){w.bubble(v,r,h,u);}}else{j.sibling=k;j.target=h;j.originalTarget=h;j.currentTarget=w;o=j.broadcast;j.broadcast=false;j.emitFacade=true;j.stack=u;q=q&&j.fire.apply(j,r||v.details||[]);j.broadcast=o;j.originalTarget=null;if(j.stopped){break;}}w._yuievt.bubbling=l;}}}return q;};d=new g.EventFacade();},"@VERSION@",{requires:["event-custom-base"]});YUI.add("event-custom",function(a){},"@VERSION@",{use:["event-custom-base","event-custom-complex"]});